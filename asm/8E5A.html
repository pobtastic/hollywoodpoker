<!DOCTYPE html>
<html>
<head>
<title>Hollywood Poker: Routine at 8E5A</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-wide.css" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-75RERFCHBG"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-75RERFCHBG');
</script>
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="8E59.html">8E59</a>
</td>
<td class="up">Up: <a href="../maps/all.html#8e5a">Map</a></td>
<td class="next">
Next: <a href="8EE2.html">8EE2</a>
</td>
</tr>
</table>
<div class="description">8E5A: Draw User Interface</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Used by the routine at <a href="8D4A.html">PlayGame</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="8e5a"></span>
<div class="comments">
<div class="paragraph">
<table class="">
<tr>
<td class="" colspan="1" rowspan="1"><img alt="user-interface" src="../images/scr/user-interface.png" /></td>
</tr>
</table>
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">DrawUserInterface</td>
<td class="address-2"><span id="8e5a"></span>8E5A</td>
<td class="instruction">LD HL,$5620</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=5620 (screen buffer location).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8e5d"></span>8E5D</td>
<td class="instruction">LD E,$02</td>
<td class="comment-1" rowspan="1"><span class="register">E</span>=02.</td>
</tr>
<tr>
<td class="asm-label">DrawUserInterface_0</td>
<td class="address-2"><span id="8e5f"></span>8E5F</td>
<td class="instruction">LD D,$02</td>
<td class="comment-1" rowspan="1"><span class="register">D</span>=02.</td>
</tr>
<tr>
<td class="asm-label">DrawUserInterface_1</td>
<td class="address-2"><span id="8e61"></span>8E61</td>
<td class="instruction">PUSH HL</td>
<td class="comment-1" rowspan="1">Stash <span class="register">HL</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8e62"></span>8E62</td>
<td class="instruction">LD C,$03</td>
<td class="comment-1" rowspan="1"><span class="register">C</span>=03.</td>
</tr>
<tr>
<td class="asm-label">DrawUserInterface_2</td>
<td class="address-2"><span id="8e64"></span>8E64</td>
<td class="instruction">LD (HL),$03</td>
<td class="comment-1" rowspan="1">Write 03 to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8e66"></span>8E66</td>
<td class="instruction">INC HL</td>
<td class="comment-1" rowspan="1">Increment <span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8e67"></span>8E67</td>
<td class="instruction">LD B,$1E</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=1E.</td>
</tr>
<tr>
<td class="asm-label">DrawUserInterface_3</td>
<td class="address-2"><span id="8e69"></span>8E69</td>
<td class="instruction">LD (HL),$FF</td>
<td class="comment-1" rowspan="1">Write FF to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8e6b"></span>8E6B</td>
<td class="instruction">INC HL</td>
<td class="comment-1" rowspan="1">Increment <span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8e6c"></span>8E6C</td>
<td class="instruction">DJNZ <a href="8E5A.html#8e69">DrawUserInterface_3</a></td>
<td class="comment-1" rowspan="1">Decrease counter by one and loop back to <a href="8E5A.html#8e69">DrawUserInterface_3</a> until counter is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8e6e"></span>8E6E</td>
<td class="instruction">LD (HL),$C0</td>
<td class="comment-1" rowspan="1">Write C0 to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8e70"></span>8E70</td>
<td class="instruction">PUSH DE</td>
<td class="comment-1" rowspan="1">Stash <span class="register">DE</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8e71"></span>8E71</td>
<td class="instruction">LD DE,$0021</td>
<td class="comment-1" rowspan="2"><span class="register">HL</span>+=0021.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8e74"></span>8E74</td>
<td class="instruction">ADD HL,DE</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8e75"></span>8E75</td>
<td class="instruction">POP DE</td>
<td class="comment-1" rowspan="1">Restore <span class="register">DE</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8e76"></span>8E76</td>
<td class="instruction">DEC C</td>
<td class="comment-1" rowspan="1">Decrease <span class="register">C</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8e77"></span>8E77</td>
<td class="instruction">JR NZ,<a href="8E5A.html#8e64">DrawUserInterface_2</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="8E5A.html#8e64">DrawUserInterface_2</a> until <span class="register">C</span> is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8e79"></span>8E79</td>
<td class="instruction">POP HL</td>
<td class="comment-1" rowspan="1">Restore <span class="register">HL</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8e7a"></span>8E7A</td>
<td class="instruction">INC H</td>
<td class="comment-1" rowspan="1">Increment <span class="register">H</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8e7b"></span>8E7B</td>
<td class="instruction">DEC D</td>
<td class="comment-1" rowspan="1">Decrease <span class="register">D</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8e7c"></span>8E7C</td>
<td class="instruction">JR NZ,<a href="8E5A.html#8e61">DrawUserInterface_1</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="8E5A.html#8e61">DrawUserInterface_1</a> until <span class="register">D</span> is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8e7e"></span>8E7E</td>
<td class="instruction">PUSH DE</td>
<td class="comment-1" rowspan="1">Temporarily stash <span class="register">DE</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8e7f"></span>8E7F</td>
<td class="instruction">LD DE,$07C0</td>
<td class="comment-1" rowspan="2"><span class="register">HL</span>-=07C0.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8e82"></span>8E82</td>
<td class="instruction">SBC HL,DE</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8e84"></span>8E84</td>
<td class="instruction">POP DE</td>
<td class="comment-1" rowspan="1">Restore <span class="register">DE</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8e85"></span>8E85</td>
<td class="instruction">DEC E</td>
<td class="comment-1" rowspan="1">Decrease <span class="register">E</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8e86"></span>8E86</td>
<td class="instruction">JR NZ,<a href="8E5A.html#8e5f">DrawUserInterface_0</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="8E5A.html#8e5f">DrawUserInterface_0</a> until <span class="register">E</span> is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8e88"></span>8E88</td>
<td class="instruction">LD HL,$5040</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=5040 (screen buffer location).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8e8b"></span>8E8B</td>
<td class="instruction">LD C,$08</td>
<td class="comment-1" rowspan="1"><span class="register">C</span>=08.</td>
</tr>
<tr>
<td class="asm-label">DrawUserInterface_4</td>
<td class="address-2"><span id="8e8d"></span>8E8D</td>
<td class="instruction">PUSH HL</td>
<td class="comment-1" rowspan="1">Stash <span class="register">HL</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8e8e"></span>8E8E</td>
<td class="instruction">LD B,$03</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=03.</td>
</tr>
<tr>
<td class="asm-label">DrawUserInterface_5</td>
<td class="address-2"><span id="8e90"></span>8E90</td>
<td class="instruction">LD (HL),$03</td>
<td class="comment-1" rowspan="1">Write 03 to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8e92"></span>8E92</td>
<td class="instruction">LD DE,$001F</td>
<td class="comment-1" rowspan="2"><span class="register">HL</span>+=001F.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8e95"></span>8E95</td>
<td class="instruction">ADD HL,DE</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8e96"></span>8E96</td>
<td class="instruction">LD (HL),$C0</td>
<td class="comment-1" rowspan="1">Write C0 to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8e98"></span>8E98</td>
<td class="instruction">LD DE,$0021</td>
<td class="comment-1" rowspan="2"><span class="register">HL</span>+=0021.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8e9b"></span>8E9B</td>
<td class="instruction">ADD HL,DE</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8e9c"></span>8E9C</td>
<td class="instruction">DJNZ <a href="8E5A.html#8e90">DrawUserInterface_5</a></td>
<td class="comment-1" rowspan="1">Decrease counter by one and loop back to <a href="8E5A.html#8e90">DrawUserInterface_5</a> until counter is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8e9e"></span>8E9E</td>
<td class="instruction">POP HL</td>
<td class="comment-1" rowspan="1">Restore <span class="register">HL</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8e9f"></span>8E9F</td>
<td class="instruction">INC H</td>
<td class="comment-1" rowspan="1">Increment <span class="register">H</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8ea0"></span>8EA0</td>
<td class="instruction">DEC C</td>
<td class="comment-1" rowspan="1">Decrease <span class="register">C</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8ea1"></span>8EA1</td>
<td class="instruction">JR NZ,<a href="8E5A.html#8e8d">DrawUserInterface_4</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="8E5A.html#8e8d">DrawUserInterface_4</a> until <span class="register">C</span> is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8ea3"></span>8EA3</td>
<td class="instruction">LD HL,$504F</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=504F (screen buffer location).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8ea6"></span>8EA6</td>
<td class="instruction">LD C,$01</td>
<td class="comment-1" rowspan="1"><span class="register">C</span>=01.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8ea8"></span>8EA8</td>
<td class="instruction">CALL <a href="8E5A.html#8ecd">DrawUserInterface_9</a></td>
<td class="comment-1" rowspan="1">Call <a href="8E5A.html#8ecd">DrawUserInterface_9</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8eab"></span>8EAB</td>
<td class="instruction">LD HL,$508A</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=508A (screen buffer location).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8eae"></span>8EAE</td>
<td class="instruction">CALL <a href="8E5A.html#8ecb">DrawUserInterface_8</a></td>
<td class="comment-1" rowspan="1">Call <a href="8E5A.html#8ecb">DrawUserInterface_8</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8eb1"></span>8EB1</td>
<td class="instruction">LD HL,$5094</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=5094 (screen buffer location).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8eb4"></span>8EB4</td>
<td class="instruction">CALL <a href="8E5A.html#8ecb">DrawUserInterface_8</a></td>
<td class="comment-1" rowspan="1">Call <a href="8E5A.html#8ecb">DrawUserInterface_8</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8eb7"></span>8EB7</td>
<td class="instruction">LD HL,$5A41</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=5A41 (attribute buffer location).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8eba"></span>8EBA</td>
<td class="instruction">LD C,$03</td>
<td class="comment-1" rowspan="1"><span class="register">C</span>=03.</td>
</tr>
<tr>
<td class="asm-label">DrawUserInterface_6</td>
<td class="address-2"><span id="8ebc"></span>8EBC</td>
<td class="instruction">LD B,$1E</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=1E.</td>
</tr>
<tr>
<td class="asm-label">DrawUserInterface_7</td>
<td class="address-2"><span id="8ebe"></span>8EBE</td>
<td class="instruction">LD (HL),$78</td>
<td class="comment-1" rowspan="1">Write INK:
BLACK,
PAPER:
WHITE
(BRIGHT)
 to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8ec0"></span>8EC0</td>
<td class="instruction">INC HL</td>
<td class="comment-1" rowspan="1">Increment <span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8ec1"></span>8EC1</td>
<td class="instruction">DJNZ <a href="8E5A.html#8ebe">DrawUserInterface_7</a></td>
<td class="comment-1" rowspan="1">Decrease counter by one and loop back to <a href="8E5A.html#8ebe">DrawUserInterface_7</a> until counter is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8ec3"></span>8EC3</td>
<td class="instruction">LD DE,$0022</td>
<td class="comment-1" rowspan="2"><span class="register">HL</span>+=0022.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8ec6"></span>8EC6</td>
<td class="instruction">ADD HL,DE</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8ec7"></span>8EC7</td>
<td class="instruction">DEC C</td>
<td class="comment-1" rowspan="1">Decrease <span class="register">C</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8ec8"></span>8EC8</td>
<td class="instruction">JR NZ,<a href="8E5A.html#8ebc">DrawUserInterface_6</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="8E5A.html#8ebc">DrawUserInterface_6</a> until <span class="register">C</span> is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8eca"></span>8ECA</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="asm-label">DrawUserInterface_8</td>
<td class="address-2"><span id="8ecb"></span>8ECB</td>
<td class="instruction">LD C,$02</td>
<td class="comment-1" rowspan="1"><span class="register">C</span>=02.</td>
</tr>
<tr>
<td class="asm-label">DrawUserInterface_9</td>
<td class="address-2"><span id="8ecd"></span>8ECD</td>
<td class="instruction">PUSH HL</td>
<td class="comment-1" rowspan="1">Stash <span class="register">HL</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8ece"></span>8ECE</td>
<td class="instruction">LD B,$08</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=08.</td>
</tr>
<tr>
<td class="asm-label">DrawUserInterface_10</td>
<td class="address-2"><span id="8ed0"></span>8ED0</td>
<td class="instruction">LD (HL),$01</td>
<td class="comment-1" rowspan="1">Write 01 to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8ed2"></span>8ED2</td>
<td class="instruction">INC HL</td>
<td class="comment-1" rowspan="1">Increment <span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8ed3"></span>8ED3</td>
<td class="instruction">LD (HL),$80</td>
<td class="comment-1" rowspan="1">Write 80 to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8ed5"></span>8ED5</td>
<td class="instruction">DEC HL</td>
<td class="comment-1" rowspan="1">Decrease <span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8ed6"></span>8ED6</td>
<td class="instruction">INC H</td>
<td class="comment-1" rowspan="1">Increment <span class="register">H</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8ed7"></span>8ED7</td>
<td class="instruction">DJNZ <a href="8E5A.html#8ed0">DrawUserInterface_10</a></td>
<td class="comment-1" rowspan="1">Decrease counter by one and loop back to <a href="8E5A.html#8ed0">DrawUserInterface_10</a> until counter is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8ed9"></span>8ED9</td>
<td class="instruction">POP HL</td>
<td class="comment-1" rowspan="1">Restore <span class="register">HL</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8eda"></span>8EDA</td>
<td class="instruction">LD DE,$0040</td>
<td class="comment-1" rowspan="1"><span class="register">DE</span>=0040.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8edd"></span>8EDD</td>
<td class="instruction">ADD HL,DE</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>+=<span class="register">DE</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8ede"></span>8EDE</td>
<td class="instruction">DEC C</td>
<td class="comment-1" rowspan="1">Decrease <span class="register">C</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8edf"></span>8EDF</td>
<td class="instruction">JR NZ,<a href="8E5A.html#8ecd">DrawUserInterface_9</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="8E5A.html#8ecd">DrawUserInterface_9</a> until <span class="register">C</span> is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8ee1"></span>8EE1</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="8E59.html">8E59</a>
</td>
<td class="up">Up: <a href="../maps/all.html#8e5a">Map</a></td>
<td class="next">
Next: <a href="8EE2.html">8EE2</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright">&copy; 1986 Golden Games &copy; 2025 ArcadeGeek LTD.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 9.4.</div>
<div class="repository">Link to <a rel="noopener nofollow" href="https://github.com/pobtastic/hollywoodpoker/">Source code</a>.</div>
<div><a href="../dec/asm/36442.html">Switch to decimal</a>.</div>
</footer>
</body>
</html>